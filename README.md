# Smart Control Web 
Онлайн версия для составления программ для контроллера SmartControl
### Используемые термины
#### Лампа \ Bulb 
виртуальное представление группы каналов (для монохромного режима он один на каждую лампу). Для пользователя удобно представлять, что каждая лампа это одно устройство, при этом физически лампой может быть несколько каналов (например 3 для RGB подключения или 2 и более для усиленных).
(!) при экспорте усиленного х2 RGB усиление дублируется последовательно, например RGBRGB но не RRGGBB
#### Канал \ Channel 
физическое подключение SmartPixel к SmartControl. Каждый SmartPixel является отдельным каналом и управляет только одним сигналом на выходе. 

Например у пользователя вывеска ХЛЕБ, он планирует сделать плавное разгорание всей вывески используя один цвет. Для этого достаточно 1 канала (при условии достаточной мощности), так как все 4 буквы будут работать одновременно. 

В случае, если мощности одного SmartPixel недостаточно, целевая часть вывески делится на сегменты не превышеющей максимальной мощности 1 SmartPixel. *Например:* мощность всей вывески 20Вт, максимальня мощность 1 SmartPixel 10Вт, таким образом потребуется 2 канала на вывеску для одновременной работы всей вывески. В настройках программы выбирается 1 лампа, а в настройках лампы монохромный режим и 2 канала.

Если пользователь захочет, чтобы вывеска ХЛЕБ набиралась побуквенно, потребуется 4 канала, по 1 на каждую букву.

Однако, если пользователю потребуется плавный перелив цвета на каждой букве отдельно, потребуется по 3 канала на каждую букву, итого 12 каналов, но при этом в настройках 4 лампы, режим RGB (в зависимости от порядка подключения)

#### Группа ламп \ Bulb group (* в разработке)
Группа ламп внутри программы, выполняющая отдельную от других ламп программу.

Например вывеска состоит из плавно мигающей вывески ХЛЕБ, а рядом маленькими буквами набирается СВЕЖИЙ. В этом случае можно создать программу состояющую из 2х групп: 
1) группа, состоящая из 1 лампы для ХЛЕБ с эффектом плавная смена цвета и 
2) группа, состоящая из 6 ламп с эффектом ***набор***
Продолжительность групповых программ при экспорте и предпросмотре будет дублироваться таким образом, чтобы создать бесшовную анимацию. 

Например, ХЛЕБ плавно мигает с частотой 2 сек, а СВЕЖИЙ набирается в течение 3х, таким образом вся программа при экспорте (двоичная программа) по сути будет содержать кадров на 6 секунд, чтобы циклы для СВЕЖИЙ были целыми.
#### Программа
это весь набор выбранных эффектов, их настроек, а так же настроек ламп, групп ламп (групповых программ) и так далее. Программа служит только для редактирования пользователем и не может быть исполнена контроллером напрямую. Кроме того, сохранённая программа может не работать с другими версиями и/или платформами Smart Control
#### Групповая программа
набор эффектов для группы ламп. Групповая программа не имеет настройки каналов и ламп, а служит для применения особых эффектов на отдельную группу ламп.
##### Сохранение программы
Сохранение программы не реализовано, планируется:
* автоматическое сохранение в локальном хранилище браузера пользователя. Программа будет доступна всегда на том же компьютере, браузере и профиле пользователя до тех пор пока не будет удалено хранилище браузера
* сохранение в виде json файла на компьютере пользователя.
##### Открытие программы
Позволяет открыть ранее созданные программы пользователя. Предполагается:
* сохраненные в локальном хранилище программы доступны в виде списка
* загрузка Json-сохранения через диалог открытия файла.
#### Двоичная программа \ Binary programm
Программа, которая записывается непосредственно на контроллер. Получается в результате экспорта программы. Двоичная программа не содержит метаданных, поэтому не может быть отредактирована. Так же необходимо иметь в виду, что программа будет выполняться вне зависимости от подключенных потребителей, поэтому необходимо убедиться, что на контроллер записана двоичная программа именно для используемой конфигурации потребителей.
#### Эффект \ Effect
Часть программы, имеющая длину и настройки цвета. Эффект является переходом из одного состояния на лампах в другое в течение заданного времени. Например эффект ***плавный перелив*** создаст плавный переход на всех каналах от изначального цвета к целевому с плавным переходом через все промежуточные. Выбранная длина эффекта влият на скорость смены цвета. Количество цветов в эффекте, таким образом, так же увеличивает скорость смены цвета.

Эффекты могут добавлять различные анимации перехода: набор, плавный наплыв, появление из центра и так далее. Список эффектов будет дополняться.
##### Длительность эффекта \ Effect Length
Время, в течение которого будет происходить переход. Эффект будет растягиваться на всё указанное время, что при различном количестве каналов будет давать различную скорость анимации отдельных ламп. Возможна настройка "Оптимальная длительность" (в планах)

#### Кадр \ Frame
минимальная единица двоичной программы с которой работает контроллер. Представляет собой значения для всех каналов, которые контроллер будет записывать в управляемые каналы, после чего будет отображать в течение времени кадра (расчётное значение этого периода 40 миллисекунд, однако фактическое значение зависит от выбранной на контроллере скорости). Бинарная программа является набором всех входящих в неё кадров